{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Yarp": "Information"
    }
  },
  "AllowedHosts": "*",
  "Jwt": {
    "Key": "${JWT_KEY}",
    "Issuer": "${JWT_ISSUER}",
    "Audience": "${JWT_AUDIENCE}"
  },
  "ReverseProxy": {
    "Routes": {
      "auth-route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/api/auth/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/auth/{**catch-all}"
          }
        ]
      },
      "auth-swagger": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/api-docs/auth.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "users-route": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/api/users/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/users/{**catch-all}"
          }
        ]
      },
      "users-swagger": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/api-docs/user.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "status-route": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/api/status/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/status/{**catch-all}"
          }
        ]
      },
      "profiles-route": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/api/profiles/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/profiles/{**catch-all}"
          }
        ]
      },
      "photos-route": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/api/photos/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/photos/{**catch-all}"
          }
        ]
      },
      "health-route": {
        "ClusterId": "users-cluster",
        "Match": {
          "Path": "/health"
        },
        "Transforms": [
          {
            "PathPattern": "/health"
          }
        ]
      },
      "matches-route": {
        "ClusterId": "matches-cluster",
        "Match": {
          "Path": "/api/matches/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/matches/{**catch-all}"
          }
        ]
      },
      "matches-swagger": {
        "ClusterId": "matches-cluster",
        "Match": {
          "Path": "/api-docs/match.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "messages-route": {
        "ClusterId": "messages-cluster",
        "Match": {
          "Path": "/api/messages/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/messages/{**catch-all}"
          }
        ]
      },
      "messages-swagger": {
        "ClusterId": "messages-cluster",
        "Match": {
          "Path": "/api-docs/messaging.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "notifications-route": {
        "ClusterId": "notifications-cluster",
        "Match": {
          "Path": "/api/notifications/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/notifications/{**catch-all}"
          }
        ]
      },
      "notifications-swagger": {
        "ClusterId": "notifications-cluster",
        "Match": {
          "Path": "/api-docs/notification.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "moderation-route": {
        "ClusterId": "moderation-cluster",
        "Match": {
          "Path": "/api/moderation/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/moderation/{**catch-all}"
          }
        ]
      },
      "moderation-swagger": {
        "ClusterId": "moderation-cluster",
        "Match": {
          "Path": "/api-docs/moderation.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "purchases-route": {
        "ClusterId": "purchases-cluster",
        "Match": {
          "Path": "/api/purchases/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/purchases/{**catch-all}"
          }
        ]
      },
      "purchases-swagger": {
        "ClusterId": "purchases-cluster",
        "Match": {
          "Path": "/api-docs/purchase.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "push-route": {
        "ClusterId": "push-cluster",
        "Match": {
          "Path": "/api/push/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/push/{**catch-all}"
          }
        ]
      },
      "push-swagger": {
        "ClusterId": "push-cluster",
        "Match": {
          "Path": "/api-docs/push.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      },
      "ai-insights-route": {
        "ClusterId": "ai-insights-cluster",
        "Match": {
          "Path": "/api/ai-insights/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/ai-insights/{**catch-all}"
          }
        ]
      },
      "ai-insights-swagger": {
        "ClusterId": "ai-insights-cluster",
        "Match": {
          "Path": "/api-docs/aiinsights.json"
        },
        "Transforms": [
          {
            "PathPattern": "/swagger/v1/swagger.json"
          }
        ]
      }
    },
    "Clusters": {
      "auth-cluster": {
        "Destinations": {
          "auth/destination1": {
            "Address": "http://authservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "users-cluster": {
        "Destinations": {
          "users/destination1": {
            "Address": "http://localhost:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "matches-cluster": {
        "Destinations": {
          "matches/destination1": {
            "Address": "http://matchservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "messages-cluster": {
        "Destinations": {
          "messages/destination1": {
            "Address": "http://messagingservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "notifications-cluster": {
        "Destinations": {
          "notifications/destination1": {
            "Address": "http://notificationservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "moderation-cluster": {
        "Destinations": {
          "moderation/destination1": {
            "Address": "http://moderationservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "purchases-cluster": {
        "Destinations": {
          "purchases/destination1": {
            "Address": "http://purchaseservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "push-cluster": {
        "Destinations": {
          "push/destination1": {
            "Address": "http://pushservice:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      },
      "ai-insights-cluster": {
        "Destinations": {
          "ai-insights/destination1": {
            "Address": "http://aiinsights:8080/"
          }
        },
        "HealthCheck": {
          "Active": {
            "Enabled": true,
            "Interval": "00:00:30",
            "Timeout": "00:00:05",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          }
        }
      }
    }
  }
}